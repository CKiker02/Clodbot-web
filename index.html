<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clodbot — Built by Accident. Kept Running on Purpose.</title>
<link rel="icon" type="image/png" href="https://thumbs.dreamstime.com/b/modern-colorful-ai-robot-avatar-icon-collection-featuring-futuristic-chatbot-artificial-intelligence-bot-faces-flat-vector-441269684.jpg">

<style>
  body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f0f4f8; color: #333; }
  header { text-align: center; margin-bottom: 20px; }
  header img { max-width: 120px; height: auto; }
  #chatArea { height: 400px; overflow-y: auto; border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; background: white; border-radius: 8px; }
  .msg { margin: 12px 0; display: flex; align-items: flex-start; }
  .msg.bot { justify-content: flex-start; }
  .msg.user { justify-content: flex-end; }
  .bot-avatar { width: 50px; height: 50px; border-radius: 50%; margin-right: 12px; flex-shrink: 0; object-fit: cover; }
  .msg-bubble { max-width: 75%; padding: 12px 16px; border-radius: 20px; line-height: 1.4; }
  .msg.bot .msg-bubble { background: #e0f7fa; border-bottom-left-radius: 4px; }
  .msg.user .msg-bubble { background: #d1e7ff; border-bottom-right-radius: 4px; }
  #chatInput { width: calc(100% - 100px); padding: 12px; font-size: 16px; border: 1px solid #ccc; border-radius: 8px; }
  button { padding: 12px 20px; font-size: 16px; cursor: pointer; margin-left: 10px; }
  #gameContainer { margin-top: 30px; padding: 20px; background: white; border: 1px solid #ddd; border-radius: 8px; }
  .game-log { font-family: monospace; white-space: pre-wrap; }
  .highlight { color: #d32f2f; font-weight: bold; }
  #progressFill { height: 24px; background: linear-gradient(to right, #4caf50, #8bc34a); transition: width 0.6s; border-radius: 4px; }
  .server-bar { background: #81c784; margin: 2px; display: inline-block; }
  #gameFlash { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: yellow; opacity: 0; pointer-events: none; transition: opacity 0.12s; z-index: 9999; }
</style>
</head>
<body>

<header>
  <img src="https://thumbs.dreamstime.com/b/modern-colorful-ai-robot-avatar-icon-collection-featuring-futuristic-chatbot-artificial-intelligence-bot-faces-flat-vector-441269684.jpg" alt="Clodbot Logo">
  <h1>Clodbot</h1>
</header>

<div id="chatArea"></div>

<div style="display: flex; align-items: center;">
  <input id="chatInput" type="text" placeholder="Talk to Clodbot...">
  <button onclick="sendMessage()">Send</button>
</div>

<div id="gameContainer">
  <p>Uptime: <span id="uptimeDisplay">100</span>% | Nothing Score: <span id="scoreDisplay">0</span> | Thursdays: <span id="thursdayDisplay">0</span></p>
  <div style="background:#eee; height:30px; border-radius:4px; overflow:hidden;">
    <div id="progressFill" style="width:100%;"></div>
  </div>
  <div style="margin:10px 0;">
    <button onclick="gameAction('ping')">Ping Server</button>
    <button onclick="gameAction('restart')">Restart Process</button>
    <button onclick="gameAction('marcus')">Call Marcus</button>
    <button onclick="gameAction('drea')">Text Drea</button>
  </div>
  <p id="gameLog" class="game-log">Server nominal. Nothing is happening. This is expected.</p>
  <p>Marcus Alerted: <span id="marcusCount">0</span></p>
</div>

<div id="gameFlash"></div>

<script>
let msgCount = 0;
let marcusAlerted = 0;

function appendMsg(sender, text) {
  const chat = document.getElementById('chatArea');
  const div = document.createElement('div');
  div.className = `msg ${sender}`;
  
  if (sender === 'bot') {
    div.innerHTML = `
      <img src="https://thumbs.dreamstime.com/b/cartoon-robot-toy-blue-head-yellow-square-body-green-cone-legs-arms-propeller-top-plain-white-surface-435477274.jpg" 
           class="bot-avatar" alt="Clodbot">
      <div class="msg-bubble">${text}</div>
    `;
  } else {
    div.innerHTML = `<div class="msg-bubble">${text}</div>`;
  }
  
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
  return div;
}

function sendMessage() {
  const input = document.getElementById('chatInput');
  const text = input.value.trim();
  if (!text) return;
  
  appendMsg('user', text);
  input.value = '';
  msgCount++;
  
  const thinkDiv = appendMsg('bot', '');
  thinkDiv.querySelector('.msg-bubble').classList.add('thinking');
  thinkDiv.querySelector('.msg-bubble').textContent = 'processing...';
  
  setTimeout(() => {
    const reply = getBotResponse(text);
    thinkDiv.querySelector('.msg-bubble').textContent = reply;
    thinkDiv.querySelector('.msg-bubble').classList.remove('thinking');
    if (Math.random() < 0.08) {
      marcusAlerted++;
      document.getElementById('marcusCount').textContent = marcusAlerted;
      setTimeout(() => appendMsg('bot','[ Marcus has been notified. Marcus has not responded. This is expected. ]'), 1200);
    }
  }, 600 + Math.random()*900);
}

document.getElementById('chatInput').addEventListener('keydown', e => { 
  if (e.key==='Enter') sendMessage(); 
});

// GAME
let health=100, nothingScore=0, thursdays=0, gameRunning=true;
let drainInterval, eventInterval, marcusCooldown=false, dreaCooldown=false;
const GL = ["Server nominal. Nothing is happening. This is expected.","bot_FINAL_v3_BROKEN.py running. process() returned None. Again.","Memory: 0%. CPU: 0.1%. Doing nothing is efficient.","Marcus last checked on a Thursday. It is not Thursday.","The server hums. A function waits for input it will ignore.","Null Engine v0.0.1 uptime: 3 years, 47 days, and counting.","Ping sent. Response: nothing. Latency: immeasurable."];
const EV = [{m:"⚠ CPU spike! Nothing caused it. Ping to stabilize.",d:12},{m:"⚠ Memory leak. Marcus's code is leaking vibes.",d:8},{m:"⚠ External ping from investor@vc.com. Ignored automatically.",d:0},{m:"⚠ Server has become briefly philosophical. Restart to ground it.",d:10},{m:"⚠ process() returned None 10,000 times this minute. Nominal.",d:0},{m:"⚠ Disk I/O spike. The void is writing to itself. Fine.",d:6},{m:"⚠ Marcus forgot to pay the $4.50 this month. Server declining.",d:15}];

function setGL(t,h=false) { 
  const l=document.getElementById('gameLog'); 
  l.textContent=t; 
  l.className='game-log'+(h?' highlight':''); 
}

function updateGame() {
  const h=Math.max(0,Math.round(health));
  document.getElementById('uptimeDisplay').textContent=h;
  document.getElementById('scoreDisplay').textContent=nothingScore;
  document.getElementById('thursdayDisplay').textContent=thursdays;
  document.getElementById('progressFill').style.width=h+'%';
  document.querySelectorAll('.server-bar').forEach(b => { 
    b.style.height=((h/100)*(0.2+Math.random()*0.8)*90+10)+'%'; 
    b.style.opacity=0.4+(h/100)*0.6; 
  });
  if (h<=0 && gameRunning) endGame();
}

function flash() { 
  const f=document.getElementById('gameFlash'); 
  f.style.opacity=1; 
  setTimeout(()=>f.style.opacity=0,120); 
}

function gameAction(action) {
  if (!gameRunning) return;
  if (action==='ping') { 
    health=Math.min(100,health+8); 
    nothingScore+=Math.floor(Math.random()*3)+1; 
    setGL("Ping sent. Server responded with nothing. Health restored."); 
    flash(); 
    updateGame(); 
  }
  if (action==='restart') { 
    health=Math.min(100,health+20); 
    setGL("Process restarted. bot_FINAL_v3_BROKEN.py starting... process() returned None. Normal.",true); 
    flash(); 
    updateGame(); 
  }
  if (action==='marcus') {
    if (marcusCooldown) { setGL("Marcus is still thinking about your last call. Give him a minute."); return; }
    marcusCooldown=true; setTimeout(()=>marcusCooldown=false,8000);
    const rep=["Marcus picked up. Said 'yeah it's fine.' Hung up. +15 health.","Marcus didn't pick up. Voicemail. He felt reassured. +10 health.","Marcus said 'I'll look at it Thursday.' Not Thursday. +5 health.","Marcus said 'just ping it.' You did. He doesn't know. +12 health."];
    const r=rep[Math.floor(Math.random()*rep.length)];
    health=Math.min(100,health+parseInt(r.match(/\+(\d+)/)[1]));
    setGL(r,true); flash(); updateGame();
    if (!thursdays && Math.random()<0.3) { thursdays++; updateGame(); /* showAchievement... omitted for brevity */ }
  }
  if (action==='drea') {
    if (dreaCooldown) { setGL("Drea is in the middle of something. She'll see your text eventually."); return; }
    dreaCooldown=true; setTimeout(()=>dreaCooldown=false,10000);
    const dm=["Drea: 'lol just keep it running' + red heart. +18 health.","Drea: 'is it the one Marcus forgot to pay for?' She paid it. +25 health.","Drea sent the original logo sketch. Server stabilized. +12 health.","Drea: 'tell it the red was intentional.' Server calmer. +8 health."];
    const d=dm[Math.floor(Math.random()*dm.length)];
    health=Math.min(100,health+parseInt(d.match(/\+(\d+)/)[1]));
    setGL(d,true); flash(); updateGame();
  }
}

function endGame() {
  gameRunning=false; clearInterval(drainInterval); clearInterval(eventInterval);
  setGL("SERVER OFFLINE. The server has gone quiet. Marcus will notice on Thursday.",true);
  const btn=document.getElementById('mainBtn');
  if (btn) { btn.textContent='START OVER'; btn.onclick=()=>resetGame(); }
  // achievements omitted for space, add back if needed
}

function resetGame() {
  clearInterval(drainInterval); clearInterval(eventInterval);
  const btn=document.getElementById('mainBtn');
  if (btn) { btn.textContent='PING SERVER'; btn.onclick=()=>gameAction('ping'); }
  startGame();
}

function startGame() {
  gameRunning=true; health=100; nothingScore=0; thursdays=0;
  updateGame(); setGL("Server nominal. Nothing is happening. This is expected.");
  drainInterval=setInterval(()=>{
    if (!gameRunning) return;
    health-=1.5; nothingScore+=1; updateGame();
    if (Math.random()<0.15) setGL(GL[Math.floor(Math.random()*GL.length)]);
    if (nothingScore>0 && nothingScore%50===0) {
      thursdays++; updateGame();
      setGL("It is Thursday. Marcus logged in. Looked at the dashboard 11 seconds. Closed it.",true);
      // achievement
    }
  },500);
  eventInterval=setInterval(()=>{
    if (!gameRunning || Math.random()>=0.35) return;
    const ev=EV[Math.floor(Math.random()*EV.length)];
    health=Math.max(0,health-ev.d);
    setGL(ev.m,ev.d>0); if(ev.d>0) flash(); updateGame();
  },4000);
}

// Bot response function - placeholder from your original (add your real logic here if different)
function getBotResponse(text) {
  // Your original bot logic here. This is a simple placeholder.
  if (text.toLowerCase().includes('hi') || text.toLowerCase().includes('hello')) return "Yo, what's good? Server's still chillin'.";
  if (text.toLowerCase().includes('how are you')) return "Nominal. Nothing happening. This is expected.";
  return "Processing... yeah, still nothing. Marcus says hi tho.";
}

startGame();
</script>

</body>
</html>